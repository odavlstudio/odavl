{
  "name": "odavl-insight-vscode",
  "displayName": "ODAVL Insight",
  "description": "AI-powered code analysis with local + cloud modes. Real-time error detection, project history, and collaborative insights.",
  "version": "2.0.5",
  "publisher": "odavl",
  "icon": "icon.png",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": [
    "Linters",
    "Programming Languages",
    "Testing",
    "Other"
  ],
  "keywords": [
    "error-detection",
    "code-quality",
    "ai",
    "ml",
    "typescript",
    "python",
    "java",
    "multi-language",
    "diagnostics",
    "odavl",
    "automation",
    "cloud",
    "collaboration"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/odavl-studio/odavl.git",
    "directory": "odavl-studio/insight/extension"
  },
  "bugs": {
    "url": "https://github.com/odavl-studio/odavl/issues"
  },
  "homepage": "https://odavl.studio",
  "galleryBanner": {
    "color": "#2563eb",
    "theme": "dark"
  },
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension-v2.js",
  "contributes": {
    "commands": [
      {
        "command": "odavl-insight.signIn",
        "title": "ODAVL Insight: Sign In",
        "icon": "$(sign-in)"
      },
      {
        "command": "odavl-insight.signOut",
        "title": "ODAVL Insight: Sign Out",
        "icon": "$(sign-out)"
      },
      {
        "command": "odavl-insight.showAccountMenu",
        "title": "ODAVL Insight: Account Menu",
        "icon": "$(account)"
      },
      {
        "command": "odavl-insight.analyzeWorkspace",
        "title": "ODAVL Insight: Analyze Workspace",
        "icon": "$(search)"
      },
      {
        "command": "odavl-insight.analyzeWorkspaceLocal",
        "title": "ODAVL Insight: Analyze Workspace (Local Only)",
        "icon": "$(file-code)"
      },
      {
        "command": "odavl-insight.analyzeWorkspaceCloud",
        "title": "ODAVL Insight: Send to Cloud",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "odavl-insight.clearDiagnostics",
        "title": "ODAVL Insight: Clear Diagnostics",
        "icon": "$(clear-all)"
      },
      {
        "command": "odavl-insight.showDashboard",
        "title": "ODAVL Insight: Open Cloud Dashboard",
        "icon": "$(globe)"
      },
      {
        "command": "odavl-insight.showUpgrade",
        "title": "ODAVL Insight: View Plans",
        "icon": "$(star)"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "odavl-insight.signIn",
          "when": "true"
        },
        {
          "command": "odavl-insight.signOut",
          "when": "true"
        },
        {
          "command": "odavl-insight.analyzeWorkspace",
          "when": "true"
        },
        {
          "command": "odavl-insight.analyzeWorkspaceLocal",
          "when": "true"
        },
        {
          "command": "odavl-insight.analyzeWorkspaceCloud",
          "when": "true"
        },
        {
          "command": "odavl-insight.showDashboard",
          "when": "true"
        }
      ]
    },
    "configuration": {
      "title": "ODAVL Insight",
      "properties": {
        "odavl-insight.autoAnalyzeOnSave": {
          "type": "boolean",
          "default": true,
          "description": "Automatically analyze files on save (local mode)"
        },
        "odavl-insight.defaultAnalysisMode": {
          "type": "string",
          "default": "local",
          "enum": [
            "local",
            "cloud",
            "both"
          ],
          "enumDescriptions": [
            "Local analysis only (fast, immediate feedback)",
            "Cloud analysis only (history, trends, collaboration)",
            "Both local and cloud (best of both worlds)"
          ],
          "description": "Default analysis mode for workspace scans"
        },
        "odavl-insight.enabledDetectors": {
          "type": "array",
          "default": [
            "typescript",
            "eslint",
            "security",
            "performance",
            "complexity",
            "import",
            "circular"
          ],
          "description": "List of enabled detectors for local analysis"
        },
        "odavl.insight.telemetry.enabled": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "**Phase 1.2: Opt-in telemetry** - Send anonymous usage data to help improve ODAVL Insight. No personal information, workspace paths, or code content is ever sent. Respects VS Code's global telemetry setting. [Privacy Policy](https://odavl.studio/privacy)"
        },
        "odavl-insight.severityMinimum": {
          "type": "string",
          "default": "info",
          "enum": [
            "info",
            "low",
            "medium",
            "high",
            "critical"
          ],
          "description": "Minimum severity level to show in diagnostics"
        },
        "odavl-insight.cloudBackendUrl": {
          "type": "string",
          "default": "https://cloud.odavl.studio",
          "description": "ODAVL Insight Cloud backend URL"
        },
        "odavl-insight.telemetryEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable anonymous usage telemetry to help improve ODAVL Insight"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "pnpm run compile",
    "compile": "esbuild src/extension-v2.ts --bundle --outfile=dist/extension-v2.js --external:vscode --external:@odavl-studio/insight-core --external:@odavl-studio/insight-core/detector --external:@odavl-studio/auth --format=cjs --platform=node --minify --sourcemap",
    "watch": "esbuild src/extension-v2.ts --bundle --outfile=dist/extension-v2.js --external:vscode --external:@odavl-studio/insight-core --external:@odavl-studio/insight-core/detector --external:@odavl-studio/auth --format=cjs --platform=node --watch --sourcemap",
    "package": "vsce package --no-dependencies",
    "analyze-bundle": "esbuild src/extension-v2.ts --bundle --outfile=dist/extension-v2.js --external:vscode --external:@odavl-studio/insight-core --external:@odavl-studio/auth --format=cjs --platform=node --metafile=dist/meta.json --analyze",
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage"
  },
  "devDependencies": {
    "@types/bcrypt": "^6.0.0",
    "@types/jsonwebtoken": "^9.0.7",
    "@types/node": "^20.0.0",
    "@types/vscode": "^1.80.0",
    "@vitest/ui": "^2.1.8",
    "@vscode/vsce": "^2.0.0",
    "esbuild": "^0.27.0",
    "sharp": "^0.34.5",
    "typescript": "^5.0.0",
    "vitest": "^2.1.8"
  },
  "dependencies": {
    "@odavl-studio/insight-core": "workspace:*",
    "@odavl-studio/auth": "workspace:*",
    "@odavl-studio/sdk": "workspace:*"
  }
}
